# 발표 준비 정리 - Optical Flow

> **논문**: Learning Optical Flow from Still Images (유석재, CVPR 2021)  
> **발표 시간**: 30분

#### **핵심 아이디어**

- Optical Flow 학습에서 **대량의 비디오 데이터**가 아닌 **단일 이미지**로부터 Proxy Label을 생성하여 학습 데이터를 생성하는 **Depthstillation** 방법 제안.
- Pre-trained **Monocular Depth Network**를 활용해 Depth 정보를 추정하고, 가상 카메라 움직임을 적용하여 Optical Flow Ground-truth와 새로운 가상 이미지를 생성.

---

#### **연구 동기**

1. **도메인 전환 문제**: Synthetic 데이터로 학습한 Optical Flow 모델은 Real-world 데이터에서 일반화가 어렵다.
2. **실제 데이터 부족**: Optical Flow Annotated Real Imagery의 부족.

---

#### **방법론**

1. **Depthstillation Pipeline**:
    
    - **단일 이미지**와 **추정된 Depth**를 활용해 가상 카메라 움직임 적용.
    - Pixel Reprojection을 통해 Optical Flow Ground-truth 생성.
    - Hole Filling과 Independent Motion Modeling으로 Artefact 제거 및 현실감 개선.
2. **구체적 과정**:
    
    - Pre-trained Monocular Depth Network (예: MiDaS, MegaDepth)로 Depth 추정.
    - Depth와 가상 카메라 움직임으로 Optical Flow 및 가상 이미지 생성.
    - Artefact (Collisions, Holes) 처리 및 Object Motion 시뮬레이션 적용.

---

#### **주요 결과**

1. **Generalization**:
    
    - Depthstillation으로 생성된 데이터로 학습한 Optical Flow 모델이 **Synthetic 데이터**보다 **Real 데이터**에서 우수한 성능 발휘.
    - KITTI 2012/2015 데이터에서 기존 Synthetic 데이터 기반 모델 대비 성능 향상.
2. **특화(Specialization)**:
    
    - Real 비디오로 학습한 Self-supervised 모델(UFlow)과 비교해 Depthstillation 기반 모델이 **일반화**는 더 우수하나, 특정 도메인에 대한 특화는 상대적으로 낮음.
3. **혼합 데이터 사용**:
    
    - Synthetic 데이터와 Depthstillation 데이터를 함께 활용하면 Generalization과 Specialization 모두 향상.

---

#### **한계 및 장점**

- **한계**:
    - 완벽히 현실적인 데이터를 생성하지 못함 (예: 물체의 3D 회전 등).
    - Real Domain 특화 학습에서 다소 낮은 성능.
- **장점**:
    - Annotated Real Data가 부족한 상황에서 강력한 대안.
    - 다양한 도메인에서 우수한 일반화 성능 제공.

---

#### **결론**

- Depthstillation은 **단일 이미지 기반** Optical Flow 학습 데이터 생성에서 강력한 도구로, Annotated 데이터 없이도 높은 성능을 제공.
- 실세계 적용 가능성이 높은 일반화 성능을 통해 Optical Flow 학습의 새로운 가능성을 열어줌.

# 📌 질의 응답 시간
### **기기 및 시스템 개선 피드백**

#### **1. 카메라 성능 평가**

- **평가 항목**:
    - **거리**: 실외에서 카메라가 커버할 수 있는 최대 탐지 거리 측정.
    - **시야각**: 탐지 가능한 시야 범위 확인.
    - **화질**: 야간 및 낮 시간 화질 비교.

---

#### **2. GPS 기능 추가**

- **목표**: 모든 기기에 GPS 모듈 내장.
    - **기능**: 농장 위치뿐만 아니라 탐지 이벤트에 따라 GPS 데이터 저장.
    - **상태**: 이미 계획 중.

---

#### **3. 데이터 전송 및 업그레이드**

- **사운드 업그레이드**:
    - 기존 LoRa 통신을 활용해 양방향 데이터 송수신 가능성 탐구.
    - **블루투스**:
        - 블루투스 버전 업그레이드 필요.
        - 블루투스를 통한 데이터 전송 및 업데이트 기능 개발.
        - iOS와 Android에서의 호환성 검토 후 개발 진행.
    - **우선순위**: 블루투스 학습 → 데이터 전송 기능 개발.

---

#### **4. 탐지 정확도 증명**

- **필요 사항**:
    - 탐지 정확도를 나타낼 수 있는 **평가지표** 정의.
    - 실험을 통해 탐지 성능 수치화 및 보고.

---

#### **5. 이미지 저장 및 전송**

- **LoRa 전송**:
    - **이미지 크기 제한**: 패킷 데이터 한계 확인 필요.
    - **전송 방식 검토**:
        - 이미지를 분할해 전송.
        - 압축 기술 활용.
    - **NAS로 데이터 저장**:
        - 전송 후 저장 과정 최적화 필요.

---

### **개선사항**

#### **1. 블루투스 업그레이드 문제**

- **현황**:
    - 라이브러리가 Raspberry Pi 3까지만 지원.
    - 블루투스 모듈은 내장되어 있으나 사용법 복잡.
- **대안**:
    - 핸드폰에서 기기 조정 가능 여부 확인.
        - iOS와 Android 간 차이를 고려한 개발 진행.

---

#### **2. 비전 모델 및 탐지 성능 개선**

- **YOLO 기반 거리 측정**:
    - Bounding Box 정보를 활용한 거리 추정.
- **탐지 범위 확대**:
    - 포유류, 사람 등 다양한 객체 학습.
    - 탐지 시 이미지를 서버로 전송.
        - 화질 낮추기 또는 RGB 데이터를 벡터로 변환 후 전송.
- **모델 변환**:
    - TensorFlow Lite(TFLite)와 같은 경량화 모델로 변환.
- **유휴 시간 개선**:
    - 코드 최적화 (C언어로 변환 가능성 검토).

---

#### **3. 기기 설계 변경**

##### **태양광 패널**

- **배터리**:
    - **납축전지** vs **리튬 배터리**:
        - 야외에서 리튬 배터리 1개 사용 추천.
        - 납축전지 및 초소형 배터리 옵션 조사 필요.
- **솔라 차지 컨트롤러**:
    - 기존 장치 유지.

##### **탐지 범위 360° 확장**

- **장치 변경**:
    - **젯슨 나노**: 카메라 2개, PIR 2개.
    - **카다스**: 카메라 1개, PIR 3개.
- **장치 업데이트**:
    - 젯슨 오린 활용 가능 시 추가 기능 개발.

##### **3D 모델링**

- 산디과 협력 가능 여부 확인.
- 3D 모델링 툴 학습 필요.

---

#### **4. 펌웨어 업그레이드**

- **업그레이드 방식**:
    - 사용자 앱에서 소리 파일 배포.
    - 웹사이트를 통해 펌웨어 업데이트 파일 제공.
    - USB 연결 방식으로 업데이트 진행.

---

### **V 1.2 개발 계획**

1. **GPS 모듈 부착**.
2. **보드 변경**:
    - Raspberry Pi → 젯슨 나노, 카다스로 변경.
3. **탐지 범위 360° 확장**:
    - 젯슨 나노: 카메라 2개, PIR 2개.
    - 카다스: 카메라 1개, PIR 3개.
4. **탐지 정확도 개선**:
    - 사람 및 포유류 탐지 기능 강화.
5. **배터리 문제 해결**:
    - 납축전지 또는 리튬 배터리 사용 옵션 검토.
6. **사운드 파일 이름 전송 기능 추가**:
    - 랜덤 사운드 출력 시 재생 중인 파일 이름 전송.

---

# 📌 참고(논문 읽고 발표 준비)
### **방법론(Method) 분석 중심** (10분 설명):
- 개발 목적
- 알고리즘, 모델 선택 및 도출 과정
- 수식 포함
- 도움이 될 수 있는 영역 탐구

## **발표 일정**
- **1/13 월요일 13:00 ~ 14:30**: 논문 세미나 2차 준비.
- 영어 논문 정독 및 세부 내용 정리 필요.