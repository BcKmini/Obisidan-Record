## Dashboard 수정
### 📌 1


 ![[Pasted image 20250124095752.png]]
원래 있던 테이블을 다른 방식으로 표현하기(시계열 그래프 등)

### 📌 2

![[Pasted image 20250124095852.png]]

지도에 마크업이 너무 복잡하게 나오고 DB에 더미 데이터가 많아서 지도에 이상하게 표현된다. ReactKakaomap을 활용해서 히트맵으로 표현하자 (지역별, 줌인아웃 기능에 반응 할 수 있게)

> 참고 : [ReactKakaoMapSDK](https://react-kakao-maps-sdk.jaeseokim.dev/)
### 📌 3

- 파일구조를 바꾸기
  - utils/()
  - pages/map -> components/map
  
- API키들 암호화해서 사용하기
(95ccf3041032837722da6a75b7374566)

---

# 🚀 더 발전시키기 
1. **하루 중 탐지되는 시간**
    
    - 특정 시간대에 **새가 탐지되는 빈도**를 시각화한 **히스토그램**
2. **월별 새 탐지 빈도**
    
    - 특정 **월**에 주로 탐지되는 **새의 종류와 빈도**를 분석한 **꺾은선 그래프**
3. **지역별 새 탐지 패턴**
    
    - **지역**에 따라 특정 **새의 종별 탐지 빈도**를 나타낸 **산점도**
4. **농장별 새 탐지 데이터**
    
    - 각 농장에서 탐지된 **새의 종류**와 **탐지 빈도**를 **지도 시각화(Kakao 지도 API)**
5. **소리와 새 퇴치 효과의 관계**
    
    - **소리의 종류**와 **새 퇴치 효과** 간의 **상관분석**, **상관관계 시각화**
        
        **(어떤 소리가 어떤 새의 종을 많이 퇴치하는지)**
        
6. **농장별 디바이스 현황**
    
    - 각 농장이 보유한 **디바이스 개수**를 **카카오 지도 API**를 활용해 시각화
7. **새 이미지 추가 현황**
    
    - 최근 추가된 **새 이미지 현황**을 표시 (예: 특정 **종**의 이미지가 몇 장 추가되었는지)
8. **대시보드 제목 수정**
    

추후, 어떤 농장에서 어떤 종, 소리, 기계가 무엇을 탐지했는지

---

# **유해조수 DB 구축 프로그램 선정**

# 후보군 선정

1. Maria DB
    - 마리아DB는 시놀로지의 내장이고, mysql과 거의 유사해서 문제없이 사용할 수 있을 것 같음
    - 오픈소스임
2. MySQL
    - 우리 70 서버의 DB가 mysql로 구축되어 있음
    - docker를 설치해서 이미지를 띄워야 함.

### MariaDB를 선택해야 하는 경우

```
1.	100% 오픈소스 환경을 유지하고 싶을 때.
2.	MySQL보다 빠르고 다양한 스토리지 엔진을 활용하고 싶을 때.
3.	커뮤니티 지원 및 새로운 기능이 빠르게 필요한 경우.
4.	안정적인 장기적 사용이 목표일 때(Oracle의 라이선스 변화 가능성을 우려할 경우).

```

### MySQL을 선택해야 하는 경우

```
1.	Oracle 제품군(예: Oracle DB, Oracle 클라우드)과의 연동이 중요할 때.
2.	기존 MySQL 환경을 유지하며 Oracle의 기술 지원을 활용하고 싶을 때.

```

우리는 70서버가 MySQL로 구축되어 있음. 그래서 이걸 선택해야 하는게 맞을 듯 함

# MySQL 도커 세팅

1. container manager에서 mysql 검색 후 이미지 다운로드
2. 이미지 실행
3. 포트 설정: 3306으로 하기
4. docker 디렉토리에 mysql 폴더 만들기
5. 컨테이너 볼륨 설정에 `/mysql` 등록
6. 환경변수 등록 후 실행

**환경 변수 설정**

- MYSQL_DATABASE = 사용할 데이터베이스 명을 입력한다
- MYSQL_USER = 사용할 데이터베이스 유저 아이디를 입력한다
- MYSQL_PASSWORD = 사용할 데이터베이스 유저 패스워드를 입력한다
- MYSQL_ROOT_PASSWORD = MYSQL에서는 ROOT 계정은 초기에 ID는 ROOT 로 설정 돼 있고 비밀번호만 설정

## 포트포워딩 2가지 방법

1. iptime에서 포트포워딩: 3306을 넣어줌
2. 나스에서 외부 엑세스에서 내부 포트: 3306, 외부포트 3306으로 넣어줌

그 후 mysql연결(블로그에선 dbaver)

1. 외부에서 접속 가능한 IP나 DDNS로 설정한 나스 서버 도메인 입력
2. 포트포워딩 시 사용했던 외부 접속 포트번호 입력
3. Docker 파트에서 입력했던 MYSQL_DATABASE 변수에 입력했던 값 입력
4. 유저에게 권한을 주기 위해 ROOT 계정 먼저 입력
5. MYSQL_ROOT_PASSWORD 변수에 입력했던 값 입력
6. Test Connection 클릭

# 혹시라도 allowPublicKeyRetrieval 오류가 뜨는 경우

![[Mysql_.png]]

- allowPublicKeyRetrieval = true
- useSSL = false
---

