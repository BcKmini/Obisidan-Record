### 9:30 íšŒì˜ ì§„í–‰ 
DBë‚´ìš© ë¨¼ì € ì§„í–‰
(ì—°êµ¬ì™€ ê´€ë ¨ëœ ê°œë°œì„ ë¨¼ì € ìš°ì„ ìˆœìœ„ë¥¼ ë‘¬ì„œ ì§„í–‰)

ì—°êµ¬ì‹¤
## Task

1. GPS ê¸°ë°˜ ë¶„ì„ ì‹œìŠ¤í…œ -  **ì¼ì •ê´€ë¦¬**
2. Hardware ì‹œìŠ¤í…œ - **ì¼ì •ê´€ë¦¬ + ë¯¸ëž˜ ì •í•  ì¼ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”** 
- ë¼ì¦ˆë² ë¦¬íŒŒì´ + ì™¸ 4ê°œ
4. ì•¼ìƒë™ë¬¼ ì œì–´ ì‹œìŠ¤í…œ ì›¹
5. ì•¼ìƒë™ë¬¼ ì œì–´ ì‹œìŠ¤í…œ ì•±
6. ì•¼ìƒë™ë¬¼ íƒì§€ ì‹œìŠ¤í…œ - **ì¼ì •ê´€ë¦¬**
7. ì•¼ìƒë™ë¬¼ ë°ì´í„° ìˆ˜ì§‘ ì•±


> ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ì–´ì„œ í™•ìž¥í•˜ê¸°

## êµìˆ˜ë‹˜ í”¼ë“œë°±
ì‹œìŠ¤í…œ ì „ë°˜ì ì¸ ìž¥ì¹˜bc, ê¸°ê¸°db, ì›Œí‚¹?dbë¥¼ ì´ìš©í•´ì„œ ì›¹ì— ë°”ë¡œ ë¿Œë ¤ì£¼ëŠ” ê¸°ëŠ¥ë¶€í„° ì‹œìž‘í•˜ê¸°
- DBë¥¼ ì–´ë–¤ ê·¸ëž˜í”„ë¥¼ ì´ìš©í•´ì„œ í‘œí˜„í• ì§€ ê³ ë¯¼í•˜ê¸°


í‡´ì¹˜ê¸°ê¸°ê°€ íƒì§€í•œê±°
data
devie -> ê¸°ê¸° ìžì²´
sound -> í‡´ì¹˜ê¸°ê¸°ê°€ ì‚¬ìš´ë“œë¥¼ ë‚¸ê±°

-> 



# ðŸ“Œ ORM(Object Relational Mapping)
# ORM(Object Relational Mapping)

##  ORMì´ëž€?
- ê°ì²´ì™€ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìžë™ìœ¼ë¡œ ë§¤í•‘í•´ì£¼ëŠ” í”„ë ˆìž„ì›Œí¬
- SQL ëŒ€ì‹  ê°ì²´ë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ìž‘í•  ìˆ˜ ìžˆìŒ

##  SQLAlchemyëž€?
- Python ORM ë¼ì´ë¸ŒëŸ¬ë¦¬
- SQL ì¿¼ë¦¬ ì—†ì´ ê°ì²´ë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ìž‘ ê°€ëŠ¥
- DB ì¢…ë¥˜ì™€ ìƒê´€ì—†ì´ ì¼ê´€ëœ ì½”ë“œ ìœ ì§€

---

# FastAPIì™€ MySQL(DB) ì—°ê²°í•˜ê¸°

## ë””ë ‰í„°ë¦¬ êµ¬ì¡°
`## ë””ë ‰í„°ë¦¬ êµ¬ì¡°`

. â”œâ”€â”€ app.py â”œâ”€â”€ models.py â””â”€â”€ database.py


```python
# `database.py`
- SQLAlchemyë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°

```python
from sqlalchemy import *
from sqlalchemy.orm import sessionmaker

DB_URL = 'mysql+pymysql://{USERNAME}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}'

class engineconn:
    def __init__(self):
        self.engine = create_engine(DB_URL, pool_recycle=500)

    def sessionmaker(self):
        Session = sessionmaker(bind=self.engine)
        return Session()

    def connection(self):
        return self.engine.connect()

```
```
```
---
```python
# `models.py`

## í…Œì´ë¸”ê³¼ ë§¤í•‘í•  ëª¨ë¸ ì •ì˜

from sqlalchemy import Column, TEXT, INT, BIGINT
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class Test(Base):
    __tablename__ = "test"

    id = Column(BIGINT, nullable=False, autoincrement=True, primary_key=True)
    name = Column(TEXT, nullable=False)
    number = Column(INT, nullable=False)
```
```
```

```python

#  `app.py`

## FastAPIë¥¼ ì‚¬ìš©í•˜ì—¬ API êµ¬í˜„

from fastapi import FastAPI
from pydantic import BaseModel
from database import engineconn
from models import Test

app = FastAPI()
engine = engineconn()
session = engine.sessionmaker()

class Item(BaseModel):
    name: str
    number: int

@app.get("/")
async def first_get():
    example = session.query(Test).all()
    return example

```

>ì‹¤í–‰ ->  uvicorn app:app --reload
